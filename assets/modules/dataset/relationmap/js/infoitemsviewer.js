/*!***********************************************
 Copyright (c) 2016, Neusoft Inc.
 All rights reserved
 SaCa DataViz Version 3.1.0
 ************************************************/
dojo.require("dojox.gfx.matrix");var _semantics_diagram_infoitems_viewer_cls={surface:null,itemsGrid:null,dimension:null,itemViewers:null,currentClip:null,contentHeight:null,items:null,parent:null,constructor:function(i,t){this.items=i,this.parent=t,this.itemViewers={},dojo.forEach(i,function(i){this.itemViewers[i.id]=new semantics.diagram.ItemViewer(i,this)},this),this._initDimension(),this._autoHeight(!0)},changeChecked:function(i){dojo.forEach(this.items,function(t){this.itemViewers[t.id].changeChecked(i)},this)},destroy:function(){for(var i=0;i<this.itemViewers.length;i++)this.itemViewers[i].destroy();this.surface.removeShape()},setGraphicContext:function(i){this.surface=i.surface,i.width&&(this.dimension.width=i.width),i.height&&(this.dimension.height=i.height),this._initView(),null!=i.x&&null!=i.y&&this.relocate(i.x,i.y)},getHeight:function(){return Math.min(this._autoHeight(!0),this.dimension.height)},_autoHeight:function(i){var t=this.contentHeight;if(i){t=0;for(var e in this.itemViewers)t+=this.itemViewers[e].getHeight();this.contentHeight=t}return t},_initDimension:function(){var i=340;this.dimension={height:this._autoHeight(!0),width:i}},_initView:function(){var i=this.itemsGrid=this.surface.createGroup(),t=0,e=this.dimension.width,s=this._sort();for(var n in s){var h=s[n];h.setGraphicContext({surface:i.createGroup(),width:e,fill:n%2==0?_infosetStyle.itemFill2:_infosetStyle.itemFill1}),h.relocate(0,t),t+=h.getHeight()}this.currentClip={x:0,y:0,width:this.dimension.width,height:this.dimension.height},i.setClip(this.currentClip)},_sort:function(){var i=[];for(var t in this.itemViewers){var e=this.itemViewers[t];i.push(e)}return i},show:function(i){var t;t=i?this._autoHeight():-this._autoHeight(),this.dimension.height+=t,this.currentClip={x:this.currentClip.x,y:this.currentClip.y,width:this.currentClip.width,height:this.currentClip.height+t},this.itemsGrid.setClip(this.currentClip)},relocate:function(i,t){this.surface.applyLeftTransform({dx:i,dy:t})}};dojo.declare("semantics.diagram.InfoItemsViewer",null,_semantics_diagram_infoitems_viewer_cls);